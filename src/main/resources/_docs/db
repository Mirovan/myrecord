/*------------------ Системные сущности  -----------------------*/

/*Пользователи системы*/
CREATE SEQUENCE sys_user_id_seq START WITH 1;

CREATE TABLE "sys_user" (
    id INTEGER NOT NULL default nextval('sys_user_id_seq'),
	login VARCHAR(120) NOT NULL,
	pass VARCHAR(32) NOT NULL
);
ALTER SEQUENCE sys_user_id_seq owned by "sys_user".id;

/*Баланс денег пользователя системы*/
/*
CREATE SEQUENCE sys_balance_id_seq START WITH 1;

CREATE TABLE "sys_balance" (
    id INTEGER NOT NULL default nextval('sys_balance_id_seq'),
);
ALTER SEQUENCE sys_balance_id_seq owned by "sys_balance".id;
*/


/*------------------ Клиентские сущности ----------------------*/

/*Роли пользователей*/
CREATE SEQUENCE role_id_seq START WITH 1;

CREATE TABLE "role" (
    id INTEGER NOT NULL default nextval('role_id_seq'),
	role_name VARCHAR(240) NOT NULL
);
ALTER SEQUENCE role_id_seq owned by "role".id;

INSERT INTO role (id, role_name) VALUES
(1, 'admin'),
(2, 'manager'),
(3, 'master'),
(4, 'user');


/*Пользователи*/
CREATE SEQUENCE user_id_seq START WITH 1;

CREATE TABLE "user" (
    id INTEGER NOT NULL default nextval('user_id_seq'),
    id_sys_user INTEGER NOT NULL,
	login VARCHAR(120) NOT NULL,
	pass VARCHAR(32) NOT NULL
);
ALTER SEQUENCE user_id_seq owned by "user".id;

/*дополнительная таблица с данными пользователями
или
таблица с динамическими полями*/


/*Услуги*/
CREATE SEQUENCE service_id_seq START WITH 1;

CREATE TABLE "service" (
    id INTEGER NOT NULL default nextval('service_id_seq'),
    id_sys_user INTEGER NOT NULL,
	service_name VARCHAR(240) NOT NULL,
	service_cost INTEGER DEFAULT 0
);
ALTER SEQUENCE service_id_seq owned by "service".id;