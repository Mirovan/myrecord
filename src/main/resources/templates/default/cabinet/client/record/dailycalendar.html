<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:include="cabinet/inc/head.inc::head"></head>
<body>


<nav class="side-navbar" th:include="cabinet/inc/navbar.inc::navbar"></nav>
<div class="page">
    <!-- navbar-->
    <header class="header" th:include="cabinet/inc/header.inc::header"></header>
    <!-- Breadcrumb-->
    <div class="breadcrumb-holder" th:include="cabinet/inc/breadcrumb.inc::breadcrumb"></div>

    <section>
        <div class="container-fluid">
            <!-- Page Header-->
            <header>
                <h1 class="h3 display">Клиенты</h1>
            </header>

            <div class="row">

                <div class="col-lg-12">
                    <div class="card">
                         <div id='calendar'></div>
                    </div>
                </div>

                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-header d-flex align-items-center">
                            <h4>Запись клиентов</h4>

                            <input type="hidden" id="dayInput" name="day" th:value="${day}" />
                            <input type="hidden" id="monthInput" name="month" th:value="${month}" />
                            <input type="hidden" id="yearInput" name="year" th:value="${year}" />

                        </div>
                    </div>
                </div>

                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-header d-flex align-items-center">
                            <h4>Добавление/изменение записи</h4>
                        </div>
                        <div class="card-body">

                            <form th:object="${client}" th:action="@{'/cabinet/clients/record/add/'}" method="post">
                                <input type="hidden" th:field="*{id}" />
                                <div class="form-group">
                                    <label class="col-sm-2 form-control-label">Name</label>
                                    <div class="col-sm-4">
                                        <input type="text" th:field="*{name}" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-2 form-control-label">Sirname</label>
                                    <div class="col-sm-4">
                                        <input type="text" th:field="*{sirname}" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-2 form-control-label">Phone</label>
                                    <div class="col-sm-4">
                                        <input type="text" th:field="*{phone}" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-2 form-control-label">Услуга</label>
                                    <div class="col-sm-4">
                                        <select name="productId">
                                            <option th:each="product : ${products}"
                                                    th:value="${product.id}"
                                                    th:text="${product.name}"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-2 form-control-label">Мастер</label>
                                    <div class="col-sm-4">
                                        <select name="masterId">
                                            <option th:each="worker : ${workers}"
                                                    th:value="${worker.id}"
                                                    th:text="@{${worker.name} + ' ' + ${worker.sirname}}"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-2 form-control-label">Дата и время</label>
                                    <div class="col-sm-4">
                                        <input type="text" name="date" id="datetimepicker" value="" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <input value="Add user" class="btn btn-primary" type="submit" />
                                </div>
                            </form>

                        </div>
                    </div>
                </div>


                <div class="col-lg-12" th:each="worker: ${workers}">
                    <div class="card">
                        <div class="card-header">
                            Мастер: <span th:text="@{${worker.name} + ' ' + ${worker.sirname}}"></span>
                        </div>
                        <div class="card-body">

                            Расписание


                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <footer class="main-footer" th:include="cabinet/inc/footer.inc::footer"></footer>
</div>
<div th:include="cabinet/inc/js.inc::js"></div>

<!-- calendar -->
<link href='/static/default/vendor/fullcalendar-3.9.0/fullcalendar.min.css' rel='stylesheet' />
<link href='/static/default/vendor/fullcalendar-3.9.0/fullcalendar.print.min.css' rel='stylesheet' media='print' />
<link href='/static/default/vendor/fullcalendar-scheduler-1.9.4/scheduler.min.css' rel='stylesheet' />

<script src='/static/default/vendor/fullcalendar-3.9.0/lib/moment.min.js'></script>
<script src='/static/default/vendor/fullcalendar-3.9.0/lib/jquery.min.js'></script>
<script src='/static/default/vendor/fullcalendar-3.9.0/fullcalendar.min.js'></script>
<script src='/static/default/vendor/fullcalendar-scheduler-1.9.4/scheduler.min.js'></script>

<script th:src="@{/static/default/js/mycrm/record-day-calendar.js}"></script>
<!-- end calendar -->

<!-- datetime picker -->
<link rel="stylesheet" type="text/css" href="/static/default/vendor/datetimepicker/jquery.datetimepicker.min.css"/>
<script src='/static/default/vendor/datetimepicker/jquery.datetimepicker.full.js'></script>
<script src='/static/default/js/mycrm/datetime-pick.js'></script>
<!-- end datetime picker -->

</body>
</html>